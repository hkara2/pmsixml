package fr.gpmsi.pmsixml.tests;

//import org.apache.log4j.BasicConfigurator;
//import org.apache.log4j.Logger;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.apache.logging.log4j.core.config.Configurator;
import org.apache.logging.log4j.core.config.DefaultConfiguration;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import fr.gpmsi.pmsixml.FszGroup;
import fr.gpmsi.pmsixml.FszNode;
import fr.gpmsi.pmsixml.RsaReader;

public class RsaReaderTest
{
	static Logger lg = LogManager.getLogger(RhsReaderTest.class);

	
	public static String rsa1 = "91001944722200000058371170021111M19Z1701111M19Z17001056   28 0420158  0003453000000     00434100000000   00 00000000000000000000000 04341        00000000000000000000000000000                          01Z4580       00010000201   910001973Z4580       0000001002000353 C000000          N200  001JCGE004  01     01011001ZZLP025  04     01011";
	public static String rsa2 = "91001944722200000000051170021101M0540001101M05400002070   17103201571 0125263000000     00021100350000   00 00000000000000000000000 00211        00000690000000560000000000000                          01G048        00340023301   910001973G048        0460017147006901AC010069          02   910001973G048        0320017086005603AC030056          A692  J159  J9609 I738  W190  R55   I489  R392  E86   R33   R001  M45+2 G610  R570  I495  J150  G042  A692  J159  J9609 I738  W190  R55   I489  R392  E86   R33   R001  M45+2 G610  R570  I495  J150  G042  064YYYY015  01     01011060YYYY015  01     01011041GLLD015  01     02011020GEQE007  01     0 011026GLLD017  01     02011041YYYY020  01     01011027YYYY015  01     01011011GLLD015  01     0 011025HSLF001  01     0 011027HSLF001  01     0 011057YYYY015  01     01011019YYYY020  01     01011015GLLD015  01     0 011002GLLD015  01     0 011023GEQE007  01     0 011031YYYY015  01     01011066GLLD017  01     02011023YYYY020  01     01011039YYYY020  01     01011036YYYY020  01     01011008GLLD015  01     0 011041GEQE007  01     0 011048YYYY015  01     01011047ZBQK002  01 BZ  0 011007YYYY020  01     0 011017GLLD015  01     02011064GLLD017  01     02011040GLLD015  01     02011006GLLD015  01     0 011063GEQE007  01     0 011040YYYY020  01     01011061YYYY015  01     01011018YYYY020  01     01011036GEQE007  01     0 011025YYYY015  01     01011028HSLF001  01     0 011026YYYY015  01     01011035YYYY020  01     01011019GLLD015  01     02011044GLLD015  01     02011032YYYY020  01     01011014YYYY020  01     0 011004YYYY020  01     0 011020GLLD015  01     02011052YYYY015  01     01011010YYYY020  01     0 011022GLLD015  01     02011018GLLD015  01     02011007GEQE007  01     01011054YYYY015  01     01011062YYYY015  01     01011065DEQP003  01     0 011044YYYY020  01     01011005YYYY020  01     0 011025GLLD017  01     02011014GLLD015  01     0 011036GLLD015  01     02011063GLLD017  01     02011056YYYY015  01     01011065GLLD017  01     02011066YYYY015  01     01011058YYYY015  01     01011009YYYY020  01     0 011031GLLD017  01     02011002YYYY020  01     0 011013GLLD015  01     0 011033YYYY020  01     01011001YYYY020  01     0 011028GLLD017  01     02011004GLLD015  01     0 011047YYYY015  01     01011012YYYY020  01     0 011050YYYY015  01     01011024YYYY015  01     01011056GLLD017  01     02011010GLLD015  01     0 011063YYYY015  01     01011005GLLD015  01     0 011034YYYY020  01     01011045YYYY015  01     01011058GLLD017  01     02011061GLLD017  01     02011043GLLD015  01     02011033GLLD015  01     02011021GLLD015  01     02011006YYYY020  01     0 011032GLLD015  01     02011037YYYY020  01     01011021YYYY020  01     01011049YYYY015  01     01011030GLLD017  01     02011022YYYY020  01     01011046YYYY015  01     01011007GLLD015  01     0 011011YYYY020  01     0 011039GLLD015  01     02011016GLLD015  01     0 011008YYYY020  01     0 011049ZBQH001  01 Z   0 011026HSLF001  01     0 011001GLLD015  01     0 011055YYYY015  01     01011059GLLD017  01     02011030YYYY015  01     01011067YYYY015  01     01011024GLLD017  01     02011020YYYY020  01     01011027GLLD017  01     02011043YYYY020  01     01011034GLLD015  01     02011000ZBQK002  01 BZ  0 011000GLLD015  01     0 011068YYYY015  01     01011051YYYY015  01     01011007ZBQK002  01 BZ  0 021037GLLD015  01     02011044GEQE007  01     0 011042GLLD015  01     02011029GLLD017  01     02011065YYYY015  01     01011062GLLD017  01     02011042YYYY020  01     01011013YYYY020  01     0 011009GLLD015  01     0 011038YYYY020  01     01011017YYYY020  01     01011028YYYY015  01     01011003GLLD015  01     0 011060GLLD017  01     02011067GLLD017  01     02011068GLLD017  01     02011000YYYY020  01     0 021016YYYY020  01     0 011024HSLF001  01     0 011003YYYY020  01     0 011053YYYY015  01     01011015GEQE009  01     01011057GLLD017  01     02011029HSLF001  01     0 011012GLLD015  01     0 011038GLLD015  01     02011029YYYY015  01     01011059YYYY015  01     01011015YYYY020  01     0 011035GLLD015  01     02011023GLLD015  01     02011049YYYY600  01     0 011076YYYY015  01     01011103YYYY015  01     0 011093MAQK003  01 BCZ 0 011120YYYY015  01     0 011110YYYY015  01     0 011085GLLD017  01     02011069YYYY015  01     01021075YYYY015  01     01011071GLLD017  01     02011120ZBQK002  01 BZ  0 011073GLLD017  01     02011088YYYY015  01     0 011070GLLD017  01     02011105YYYY015  01     0 011077GLLD017  01     02011104YYYY015  01     0 011102YYYY015  01     0 011073YYYY015  01     01011083GLLD017  01     02011092YYYY015  01     0 011092GLLD017  01     02011118YYYY015  01     0 021082YYYY015  01     01011074GLLD017  01     02011080GLLD017  01     02011122YYYY015  01     0 011109YYYY015  01     0 011079YYYY015  01     01011084YYYY015  01     0 011114YYYY015  01     0 011091YYYY015  01     0 011097YYYY015  01     0 011089GLLD017  01     02011077YYYY015  01     01011082GLLD017  01     02011087YYYY015  01     0 011100YYYY015  01     0 011086GLLD017  01     02011093YYYY015  01     0 011089YYYY015  01     0 011091GLLD017  01     02011078YYYY015  01     01011076GLLD017  01     02011090YYYY015  01     0 011083YYYY015  01     0 011072GLLD017  01     02011080YYYY015  01     01011115YYYY015  01     0 021111YYYY015  01     0 011094YYYY015  01     0 011095YYYY015  01     0 011079GLLD017  01     02011085ZBQK002  01 BZ  0 011071YYYY015  01     01011101YYYY015  01     0 011117YYYY015  01     0 021123YYYY015  01     0 011114ZBQK002  01 BZ  0 011075GLLD017  01     02011119YYYY015  01     0 011096YYYY015  01     0 011106YYYY015  01     0 011078GLLD017  01     02011121YYYY015  01     0 011084GLLD017  01     02011125YYYY015  01     0 011088GLLD017  01     02011072YYYY015  01     01011081YYYY015  01     01011099YYYY015  01     0 011074YYYY015  01     01011085YYYY015  01     0 011087GLLD017  01     02011093EBQM001  01     0 011081GLLD017  01     02011116YYYY015  01     0 021070YYYY015  01     01011112YYYY015  01     0 011098YYYY015  01     0 011090GLLD017  01     02011113YYYY015  01     0 011086YYYY015  01     0 011124YYYY015  01     0 011107YYYY015  01     0 011108YYYY015  01     0 011069GLLD017  01     02021";

	@BeforeEach
	protected void setUp() throws Exception {
		//BasicConfigurator.configure();
		Configurator.initialize(new DefaultConfiguration());
	}
	
	/**
	 * Tester lecture d'un RSA V.218
	 * @throws Exception
	 */
	@Test
	public void testOne218()
	throws Exception
	{
		RsaReader rr = new RsaReader();
		FszNode nd = rr.readRSA(
 				 "91001944721800000000331150021114Z03B0001114Z03B00001034   2850120118  0005912200000     0054670000000099990 0000000000000000                      00000000000000000000000000000                 001O600        000100006O600        000010060005                Z358  001JQQP00101       011002JQQP00101       011003JQQP00101       011004JQQP00101       011005JQQJ03701       011005JQQP00101       011", 1
				);
		StringBuffer sb = new StringBuffer();
		nd.dump(sb, 0);
		lg.info("nd:"+sb);
	}
	
    /**
     * Tester lecture d'un RSA V.219
     * @throws Exception
     */
	@Test
    public void testOne219()
    throws Exception
    {
        RsaReader rr = new RsaReader();
        FszNode nd = rr.readRSA(
                 "91001944721900000000371160011106M0430001106M04300002066   28501201272 0015948000000     0021360000000099990 0000000000000000      0                      00000000000000000000000000000                  02K625        000800008K625        00000004000191000197307000000                 K625        00008004001491000197300000000                 F250  K623  N390  B961  R451  D500  J158  M712  000ZBQK00201 Z   0 011001ECQH01001 Z   01011001YYYY46701       011001ZCQH00101      1011015NZQN00101     0 011004EJQM00301     0 011004HEQE00201       011011NZQK00501 Z   0 011", 1
                );
        StringBuffer sb = new StringBuffer();
        nd.dump(sb, 0);
        lg.info("nd:"+sb);
    }
    
    /**
     * Tester lecture d'un RSA V.220
     * @throws Exception
     */
	@Test
    public void testOne220_1()
    throws Exception
    {
        RsaReader rr = new RsaReader();
        FszNode nd = rr.readRSA(
            "91001944722000000000161160031105M1230001105M12300001085   18 0120138  0025911500000     00176900000000    0 00000000000000000000000                      00000000000000000000000000000                  01E1158       00090000401   910001973E1158       00009004002529 C000000          I802  K439  I48   F03+00E559  D508  E441  E86   R392  003YYYY46701     0 011003ZBQH00101 Z   01011003ZCQH00101 Z   01011008EJQM00301     0 011", 1
                );
        StringBuffer sb = new StringBuffer();
        nd.dump(sb, 0);
        lg.info("nd:"+sb);
    }
    
    /**
     * Tester lecture d'un RSA V.220
     * @throws Exception
     */
	@Test
    public void testOne220_2()
    throws Exception
    {
        RsaReader rr = new RsaReader();
        FszNode nd = rr.readRSA(
            "91001944722000000000021160031104M0530001104M05300002067   2850120138  0062911500000     00114400310000    0 00000000000000000000000                      00000000000000070000000000000                  01J13         00100002201   910001973J13         03305016000703AC030007          02   910001973C900        00005006005529 C000000          C900  E1190 I10   E8718 N189  F058  E8708 Z512  D611  E1160 000GLLD01701     0 011000YYYY01501     0 011000ZBQK00201 Z   0 011001FELF01101     0 011001GLLD01701     02011001YYYY01501     0 011001ZBQK00101 Z   01011001ZCQK00401 Z   01011002GLLD01701     02011002YYYY01501     0 011003YYYY01501     0 011004YYYY01501     0 011004ZBQK00201 Z   0 011005YYYY01501     0 011006YYYY01501     0 011007YYYY01501     0 011008DZQM00601     0 011024LAQK00301 Z   02011024LHQK00701 Z   01011024MZQK00301 CZ  02011024NZQK00601 CZ  02011024ZBQK00201 Z   02011", 1
                );
        StringBuffer sb = new StringBuffer();
        nd.dump(sb, 0);
        lg.info("nd:"+sb);
    }
    
    /**
     * Tester lecture d'un RSA V.220
     * @throws Exception
     */
	@Test
    public void testOne220_3()
    throws Exception
    {
        RsaReader rr = new RsaReader();
        FszNode nd = rr.readRSA(
            "91001944722000000000011160031101M1322221101M13222201026   1710220138  0157914700000     00024401340000    0 00000000000000000000000                      00000000000001570000000000000                  01R402        00060040601   910000280R402        02806406015703AC030157          G409  G712  G825  J961+1Z290  Z930  115DEQP00701     0 011115GLLD01501     0 011115HSLD00101     0 011146DEQP00701     0 011023DEQP00701     0 011023GLLD01501     0 011023HSLD00201     0 011084DEQP00701     0 011084GLLD01501     0 011084HSLD00101     0 011116DEQP00701     0 011116GLLD01501     0 011116HSLD00101     0 011147DEQP00701     0 011024DEQP00701     0 011024GLLD01501     0 011024HSLD00201     0 011055DEQP00701     0 011055GLLD01501     0 011055HSLD00101     0 011085DEQP00701     0 011085GLLD01501     0 011085HSLD00101     0 011117DEQP00701     0 011117GLLD01501     0 011117HSLD00101     0 011148DEQP00701     0 011025DEQP00701     0 011025GLLD01501     0 011025HSLD00201     0 011056DEQP00701     0 011056GLLD01501     0 011056HSLD00101     0 011086DEQP00701     0 011086GLLD01501     0 011086HSLD00101     0 011118DEQP00701     0 011118GLLD01501     0 011118HSLD00101     0 011149DEQP00701     0 011026DEQP00701     0 011026GLLD01501     0 011026HSLD00201     0 011057DEQP00701     0 011057GLLD01501     0 011057HSLD00101     0 011087DEQP00701     0 011087GLLD01501     0 011087HSLD00101     0 011119DEQP00701     0 011119GLLD01501     0 011119HSLD00101     0 011150DEQP00701     0 011027DEQP00701     0 011027GLLD01501     0 011027HSLD00201     0 011058DEQP00701     0 011058GLLD01501     0 011058HSLD00101     0 011088DEQP00701     0 011088GLLD01501     0 011088HSLD00101     0 011120DEQP00701     0 011120GLLD01501     0 011120HSLD00101     0 011151DEQP00701     0 011028DEQP00701     0 011028GLLD01501     0 011028HSLD00201     0 011059DEQP00701     0 011059GLLD01501     0 011059HSLD00101     0 011089DEQP00701     0 011089GLLD01501     0 011089HSLD00101     0 011121DEQP00701     0 011121GLLD01501     0 011121HSLD00101     0 011152DEQP00701     0 011029DEQP00701     0 011029GLLD01501     0 011029HSLD00201     0 011060DEQP00701     0 011060GLLD01501     0 011060HSLD00101     0 011090DEQP00701     0 011090GLLD01501     0 011090HSLD00101     0 011122DEQP00701     0 011122GELF00101     0 011122GLLD01501     0 011122HSLD00101     0 011153DEQP00701     0 011000DEQP00701     0 011000GLLD01501     0 011000HSLD00101     0 011030DEQP00701     0 011030GLLD01501     0 011030HSLD00201     0 011061DEQP00701     0 011061GLLD01501     0 011061HSLD00101     0 011154DEQP00701     0 011154GLLD01501     0 011154HSLD00101     0 011001DEQP00701     0 011001GLLD01501     0 011001HSLD00101     0 011031DEQP00701     0 011031GLLD01501     0 011031HSLD00201     0 011124DEQP00701     0 011124GLLD01501     0 011124HSLD00101     0 011155DEQP00701     0 011155GLLD01501     0 011155HSLD00101     0 011002DEQP00701     0 011002GLLD01501     0 011002HSLD00101     0 011032DEQP00701     0 011032GLLD01501     0 011032HSLD00101     0 011093DEQP00701     0 011093GLLD01501     0 011093HSLD00101     0 011125DEQP00701     0 011125GLLD01501     0 011125HSLD00101     0 011125LHQK00101 Z   0 011125ZZQP00301     0 011156DEQP00701     0 011156GLLD01501     0 011156HSLD00101     0 011033DEQP00701     0 011033GLLD01501     0 011033HSLD00101     0 011094DEQP00701     0 011094GLLD01501     0 011094HSLD00101     0 011126DEQP00701     0 011126GLLD01501     0 011126HSLD00101     0 011004DEQP00701     0 011004GLLD01501     0 011004HSLD00101     0 011034DEQP00701     0 011034GLLD01501     0 011034HSLD00101     0 011065DEQP00701     0 011065GLLD01501     0 011065HSLD00101     0 011127DEQP00701     0 011127GLLD01501     0 011127HSLD00101     0 011005DEQP00701     0 011005GLLD01501     0 011005HSLD00101     0 011035DEQP00701     0 011035GLLD01501     0 011035HSLD00101     0 011066DEQP00701     0 011066GLLD01501     0 011066HSLD00101     0 011096DEQP00701     0 011096GLLD01501     0 011096HSLD00101     0 011128DEQP00701     0 011128GEMA00101     0 011128GEMA00104     0 011128GEPA00401     0 011128GLLD01501     0 011128HSLD00101     0 011128ZZQP00101     0 011006DEQP00701     0 011006GLLD01501     0 011006HSLD00101     0 011036DEQP00701     0 011036GLLD01501     0 011036HSLD00101     0 011067DEQP00701     0 011067GLLD01501     0 011067HSLD00101     0 011097DEQP00701     0 011097GLLD01501     0 011097HSLD00101     0 011129DEQP00701     0 011129GLLD01501     0 011129HSLD00101     0 011007DEQP00701     0 011007GLLD01501     0 011007HSLD00101     0 011037DEQP00701     0 011037GLLD01501     0 011037HSLD00101     0 011068DEQP00701     0 011068GLLD01501     0 011068HSLD00101     0 011098DEQP00701     0 011098GLLD01501     0 011098HSLD00101     0 011130DEQP00701     0 011130GLLD01501     0 011130HSLD00101     0 011008DEQP00701     0 011008GLLD01501     0 011008HSLD00101     0 011038DEQP00701     0 011038GLLD01501     0 011038HSLD00101     0 011069DEQP00701     0 011069GLLD01501     0 011069HSLD00101     0 011099DEQP00701     0 011099GLLD01501     0 011099HSLD00101     0 011131DEQP00701     0 011131GLLD01501     0 011131HSLD00101     0 011009DEQP00701     0 011009GLLD01501     0 011009HSLD00101     0 011039DEQP00701     0 011039GLLD01501     0 011039HSLD00101     0 011100DEQP00701     0 011100GLLD01501     0 011100HSLD00101     0 011010DEQP00701     0 011010GLLD01501     0 011010HSLD00101     0 011040DEQP00701     0 011040GLLD01501     0 011040HSLD00101     0 011101DEQP00701     0 011101GLLD01501     0 011101HSLD00101     0 011011DEQP00701     0 011011GLLD01501     0 011011HSLD00101     0 011041DEQP00701     0 011041GLLD01501     0 011041HSLD00101     0 011072DEQP00701     0 011072GLLD01501     0 011072HSLD00101     0 011102DEQP00701     0 011102GLLD01501     0 011102HSLD00101     0 011012DEQP00701     0 011012GLLD01501     0 011012HSLD00101     0 011042DEQP00701     0 011042GLLD01501     0 011042HSLD00101     0 011073DEQP00701     0 011073GLLD01501     0 011073HSLD00101     0 011103DEQP00701     0 011103GLLD01501     0 011103HSLD00101     0 011135DEQP00701     0 011135GLLD01501     0 011135HSLD00101     0 011013DEQP00701     0 011013GLLD01501     0 011013HSLD00101     0 011043DEQP00701     0 011043GLLD01501     0 011043HSLD00101     0 011104DEQP00701     0 011104GLLD01501     0 011104HSLD00101     0 011136DEQP00701     0 011136GLLD01501     0 011136HSLD00101     0 011014DEQP00701     0 011014GLLD01501     0 011014HSLD00101     0 011044DEQP00701     0 011044GLLD01501     0 011044HSLD00101     0 011075DEQP00701     0 011075GLLD01501     0 011075HSLD00101     0 011105DEQP00701     0 011105GLLD01501     0 011105HSLD00101     0 011015DEQP00701     0 011015GLLD01501     0 011015HSLD00101     0 011045DEQP00701     0 011045GLLD01501     0 011045HSLD00101     0 011076DEQP00701     0 011076GLLD01501     0 011076HSLD00101     0 011106DEQP00701     0 011106GLLD01501     0 011106HSLD00101     0 011138DEQP00701     0 011138GLLD01501     0 011138HSLD00101     0 011016DEQP00701     0 011016GLLD01501     0 011016HSLD00101     0 011046DEQP00701     0 011046GLLD01501     0 011046HSLD00101     0 011107DEQP00701     0 011107GLLD01501     0 011107HSLD00101     0 011139DEQP00701     0 011139GLLD01501     0 011139HSLD00101     0 011017DEQP00701     0 011017GLLD01501     0 011017HSLD00101     0 011047DEQP00701     0 011047GLLD01501     0 011047HSLD00101     0 011108DEQP00701     0 011108GLLD01501     0 011108HSLD00101     0 011140DEQP00701     0 011140GLLD01501     0 011140HSLD00101     0 011018DEQP00701     0 011018GLLD01501     0 011018HSLD00101     0 011048DEQP00701     0 011048GLLD01501     0 011048HSLD00101     0 011079DEQP00701     0 011079GLLD01501     0 011079HSLD00101     0 011109DEQP00701     0 011109GLLD01501     0 011109HSLD00101     0 011141DEQP00701     0 011141GLLD01501     0 011141HSLD00101     0 011019DEQP00701     0 011019GELF00101     0 011019GLLD01501     0 011019HSLD00101     0 011049DEQP00701     0 011049GLLD01501     0 011049HSLD00101     0 011080DEQP00701     0 011080GLLD01501     0 011080HSLD00101     0 011110DEQP00701     0 011110GLLD01501     0 011110HSLD00101     0 011142DEQP00701     0 011142GLLD01501     0 011142HSLD00101     0 011020DEQP00701     0 011020GLLD01501     0 011020HSLD00101     0 011050DEQP00701     0 011050GLLD01501     0 011050HSLD00101     0 011081DEQP00701     0 011081GLLD01501     0 011081HSLD00101     0 011111DEQP00701     0 011111GLLD01501     0 011111HSLD00101     0 011143DEQP00701     0 011143GLLD01501     0 011143HSLD00101     0 011021DEQP00701     0 011021GLLD01501     0 011021HSLD00201     0 011051DEQP00701     0 011051GLLD01501     0 011051HSLD00101     0 011082DEQP00701     0 011082GLLD01501     0 011082HSLD00101     0 011112DEQP00701     0 011112GLLD01501     0 011112HSLD00101     0 011144DEQP00701     0 011022DEQP00701     0 011022GLLD01501     0 011022HSLD00201     0 011052DEQP00701     0 011052GLLD01501     0 011052HSLD00101     0 011083DEQP00701     0 011083GLLD01501     0 011083HSLD00101     0 011113DEQP00701     0 011113GLLD01501     0 011113HSLD00101     0 011145DEQP00701     0 011053DEQP00701     0 011053GLLD01501     0 011053HSLD00101     0 011114DEQP00701     0 011114GELF00101     0 011114GLLD01501     0 011114HSLD00101     0 011", 1
                );
        StringBuffer sb = new StringBuffer();
        nd.dump(sb, 0);
        lg.info("nd:"+sb);
    }
    
    
	public static void main(String[] args) {
		
	}
	
	@Test
    public void testRsap1()
    		throws Exception 
    {
      RsaReader rrdr = new RsaReader();
      FszGroup rsa = rrdr.readRSA(rsa1,1);
      StringBuffer sb = new StringBuffer();
      lg.info("Read RSA");
      rsa.dump(sb, 0);
      lg.info(sb);
    }
      
	@Test
    public void testRsap2()
    		throws Exception 
    {
      RsaReader rrdr = new RsaReader();
      FszGroup rsa = rrdr.readRSA(rsa2,1);
      StringBuffer sb = new StringBuffer();
      lg.info("Read RSA");
      rsa.dump(sb, 0);
      lg.info(sb);
    }
			      

}
