<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc -->
<title>fr.gpmsi.pmsixml (pmsixml 3.1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="fr.gpmsi.pmsixml (pmsixml 3.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;fr.gpmsi.pmsixml</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block">Package de lecture et d'écriture de fichiers à l'un des formats PMSI à positions fixes,
 définis par l'ATIH.
 
 <p>
 Les métadonnées sont stockées  dans un répertoire extérieur et aussi en tant que "resources"
 dans le package <code>fr.gpmsi.pmsixml</code> . 
 Fournit un modèle objet pour traiter un document du PMSI de manière
structurée, pour le transformer en fichier XML.
<p>
<!-- N.B. Javadoc est appelé avec UTF-8. Donc utiliser UTF-8 pour l'encodage de ce fichier. -->
Les fichiers traditionnels du PMSI (RSS, RHS, RHA, VIDHOSP, etc.) ont un format
simple a écrire, mais fastidieux à décoder.
Pour aider à lire ces fichiers de façon plus simple j'ai fait des objets
qui permettent l'utilisation de fichier de métadonnées, permettant ainsi
de désigner un élément par un nom, plutôt que par un numéro de caractère.
L'utilisation se rapproche ainsi de l'utilisation des programmes qui 
manipulent du XML.
Par exemple, voici un exemple de code qui lit un RUM (monrum.txt) et lit le
numéro de dossier administratif local, appelé NADL :
<pre>
    String rss = FileUtils.read("monrum.txt");
    RssReader app = new RssReader();
    FszGroup gn = (FszGroup) app.readOne(rss);
    String nadl = gn.getChildField("NADL").getValue();
</pre>
L'avantage de cette approche est que si le champ est toujours nommé de la même
façon, le code restera toujours utilisable, quelle que soit la version de spécification
du RSS.
Les métadonnées de définition des fichiers se trouvent dans des emplacements
spéciaux qui permettent de les obtenir facilement.
<p>
Cette librairie développe tout son potentiel lorsqu'elle est utilisée avec
Groovy (<a href="https://groovy-lang.org/">https://groovy-lang.org/</a>),
cela permet l'écriture de scripts compacts pour traiter les principaux fichier
des PMSI MCO et RSS.
<p>
Quelques conventions :
<ul>
<li>Tous les index commencent à 0, sauf les numéros de ligne qui commencent à 1,
de manière à les retrouver facilement avec un éditeur de texte.
<li>Tous les fichiers de métadonnées tant en 'resource' qu'en fichier local
sont encodées en UTF-8.
</ul></div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Fsz2Xml.html" title="class in fr.gpmsi.pmsixml">Fsz2Xml</a></th>
<td class="colLast">
<div class="block">
 Application simple permettant de convertir des champs fixes (Fixed SiZe) en XML,
 en utilisant les noms fournis par les métadonnées.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszField.html" title="class in fr.gpmsi.pmsixml">FszField</a></th>
<td class="colLast">
<div class="block">Un noeud de type champ, qui contient une valeur.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszFieldMeta.html" title="class in fr.gpmsi.pmsixml">FszFieldMeta</a></th>
<td class="colLast">
<div class="block">Méta information sur un champ, ce qui permet de définir ce que contient ce champ, et 
 d'utiliser ces informations pour la lecture, les calculs et la présentation.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszGroup.html" title="class in fr.gpmsi.pmsixml">FszGroup</a></th>
<td class="colLast">
<div class="block">Groupe de champs qui sont tous au même niveaux.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszGroupMeta.html" title="class in fr.gpmsi.pmsixml">FszGroupMeta</a></th>
<td class="colLast">
<div class="block">Métadonnées d'un groupe d'enregistrements de longeur fixe.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszMeta.html" title="class in fr.gpmsi.pmsixml">FszMeta</a></th>
<td class="colLast">
<div class="block">Classe abstraite implémentée par les objets de métadonnées de champs et de groupe.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszNode.html" title="class in fr.gpmsi.pmsixml">FszNode</a></th>
<td class="colLast">
<div class="block">Classe abstraite parente des noeuds simples et des noeuds de groupe.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategy.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategy</a></th>
<td class="colLast">
<div class="block">Ancetre des strategies de lecture.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyAH1.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyAH1</a></th>
<td class="colLast">
<div class="block">AH : anohosp.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyFactory.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyFactory</a></th>
<td class="colLast">
<div class="block">Fabrique de stratégie de lecture des noeuds.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyMONO.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyMONO</a></th>
<td class="colLast">
<div class="block">MONO : Stratégie de lecture mono-niveau, il n'y a pas de sous-niveau.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyNX1.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyNX1</a></th>
<td class="colLast">Deprecated.
<div class="deprecationComment">Utiliser plutôt <a href="nx/Nx2Xml.html" title="class in fr.gpmsi.pmsixml.nx"><code>Nx2Xml</code></a></div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyRHS1.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyRHS1</a></th>
<td class="colLast">
<div class="block">RHS1 : Résumés Hebdomadaires Standardisés.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyRSA1.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyRSA1</a></th>
<td class="colLast">
<div class="block">RSA : résumés de sortie anonymisés
 Utilisé dans le SSR/SMR</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyRSS1.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyRSS1</a></th>
<td class="colLast">
<div class="block">RSS : résumés standardisés de sortie
 Utilisé dans le MCO.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FszNodeReadStrategyVH1.html" title="class in fr.gpmsi.pmsixml">FszNodeReadStrategyVH1</a></th>
<td class="colLast">
<div class="block">VH : vidhosp.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FszReader.html" title="class in fr.gpmsi.pmsixml">FszReader</a></th>
<td class="colLast">
<div class="block">Lecteur de Fixed SiZe Record (enregistrement à champs fixes).</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="InputString.html" title="class in fr.gpmsi.pmsixml">InputString</a></th>
<td class="colLast">
<div class="block">Un objet pour avoir la ligne d'entrée, avec les informations qui lui correspondent,
 notamment le numéro de ligne, et la position.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ListClasspath.html" title="class in fr.gpmsi.pmsixml">ListClasspath</a></th>
<td class="colLast">
<div class="block">Classe à usage interne, pour vérifier si 'root.txt' a été trouvé correctement.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Log4j2Utils.html" title="class in fr.gpmsi.pmsixml">Log4j2Utils</a></th>
<td class="colLast">
<div class="block">Utilitaires pour l'utilisation de Log4j.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Log4j2Utils.FileAppenderAttributes.html" title="class in fr.gpmsi.pmsixml">Log4j2Utils.FileAppenderAttributes</a></th>
<td class="colLast">
<div class="block">Classe utilitaire pour stocker les attributs utilisables pour créer un FileAppender</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="MetaFileLoader.html" title="class in fr.gpmsi.pmsixml">MetaFileLoader</a></th>
<td class="colLast">
<div class="block">Recherche et charge un fichier de métadonnées Fsz par nom et un répertoire donné.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="MonoLevelReader.html" title="class in fr.gpmsi.pmsixml">MonoLevelReader</a></th>
<td class="colLast">
<div class="block">Lecteur pour des fichiers fsz (à positions fixes) qui n'ont qu'un seul niveau
 (donc pas de sous-niveau), comme les fichiers FICHCOMP d'ATU, les VIDHOSP, les TRA, etc.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="MonoLevelTableInjector.html" title="class in fr.gpmsi.pmsixml">MonoLevelTableInjector</a></th>
<td class="colLast">
<div class="block">Injecter un group mono-niveau dans une table de base de données via un <a href="https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html?is-external=true" title="class or interface in java.sql" class="externalLink"><code>PreparedStatement</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="NumUtils.html" title="class in fr.gpmsi.pmsixml">NumUtils</a></th>
<td class="colLast">
<div class="block">Quelques utilitaires pour les nombres.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ObjectUtils.html" title="class in fr.gpmsi.pmsixml">ObjectUtils</a></th>
<td class="colLast">
<div class="block">Petites fonctions utilitaires pour les objets</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Rhs2Csv.html" title="class in fr.gpmsi.pmsixml">Rhs2Csv</a></th>
<td class="colLast">
<div class="block">Application pour transformer un fichier RHS en fichier .csv
 Donné à titre d'exemple ; il est maintenant plus facile d'utiliser un script groovy à l'aide de 
 fr.gpmsi</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Rhs2CsvTest.html" title="class in fr.gpmsi.pmsixml">Rhs2CsvTest</a></th>
<td class="colLast">
<div class="block">Test simple pour vérifier que cela se lance bien.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RhsReader.html" title="class in fr.gpmsi.pmsixml">RhsReader</a></th>
<td class="colLast">
<div class="block">Lecteur de RHS.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RhsWriter.html" title="class in fr.gpmsi.pmsixml">RhsWriter</a></th>
<td class="colLast">
<div class="block">Emettre un RHS sous forme textuelle.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Rsa2Csv.html" title="class in fr.gpmsi.pmsixml">Rsa2Csv</a></th>
<td class="colLast">
<div class="block">Exemple de classe qui émet un RSA sous forme de fichier .csv pour les principaux champs.<br>
 Pour le groupe principal il y a un fichier RSA.csv <br>
 Le fichier RSA.csv contient comme dernier champ la ligne du RSA au format ATIH telle qu'elle a été lue<br>
 Pour chaque sous-groupe il y a un fichier csv :
 
 <code>RU</code> : RUM
 <code>SR</code> : Suppléments de radiothérapie
 <code>DA</code> : Diagnostics associés du RUM
 <code>ZA</code> : Zone d'actes du RUM
 
 Cela donne des fichiers qui peuvent être utilisés en tant que table.<br>
 Un système d'identifiants est utilisé qui permet de faire le chaînage père-enfant.<br>
 Ces numéros sont uniques dans le temps, ce qui permet de les utiliser comme clé primaire si
 on veut importer les données dans une table de base de données.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Rsa2CsvTest.html" title="class in fr.gpmsi.pmsixml">Rsa2CsvTest</a></th>
<td class="colLast">
<div class="block">Test très basique pour appeler <a href="Rsa2Csv.html" title="class in fr.gpmsi.pmsixml"><code>Rsa2Csv</code></a> et constater manuellement ce que ça a donné.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RsaReader.html" title="class in fr.gpmsi.pmsixml">RsaReader</a></th>
<td class="colLast">
<div class="block">Lecteur de fichiers RSA (Résumé de Sortie Anonymisé).</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RsaWriter.html" title="class in fr.gpmsi.pmsixml">RsaWriter</a></th>
<td class="colLast">
<div class="block">Ecriture d'un fichier RSA à partir d'un FszGroup</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RsCsvHelper.html" title="class in fr.gpmsi.pmsixml">RsCsvHelper</a></th>
<td class="colLast">
<div class="block">Informations pour generer un jeu de fichiers .csv coherent pour des RSS ou
 des RSA donnes.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RsfaceReader.html" title="class in fr.gpmsi.pmsixml">RsfaceReader</a></th>
<td class="colLast">
<div class="block">Lecteur de RSF ACE.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Rss2Csv.html" title="class in fr.gpmsi.pmsixml">Rss2Csv</a></th>
<td class="colLast">
<div class="block">Transformer un fichier RSS en fichier .csv avec les principaux champs
 présents.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Rss2CsvTest.html" title="class in fr.gpmsi.pmsixml">Rss2CsvTest</a></th>
<td class="colLast">
<div class="block">Classe de test</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Rss2Xml.html" title="class in fr.gpmsi.pmsixml">Rss2Xml</a></th>
<td class="colLast">
<div class="block">Transformer un fichier RSS en fichier XML.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RssReader.html" title="class in fr.gpmsi.pmsixml">RssReader</a></th>
<td class="colLast">
<div class="block">Lecteur de RSS.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RssReaderDemo.html" title="class in fr.gpmsi.pmsixml">RssReaderDemo</a></th>
<td class="colLast">
<div class="block">Démonstration très simple d'utilisation de RssReader.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RssWriter.html" title="class in fr.gpmsi.pmsixml">RssWriter</a></th>
<td class="colLast">
<div class="block">Ecrire un RSS à partir d'un FszGroup.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RssWriterTest.html" title="class in fr.gpmsi.pmsixml">RssWriterTest</a></th>
<td class="colLast">
<div class="block">Objet de test</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Rulers.html" title="class in fr.gpmsi.pmsixml">Rulers</a></th>
<td class="colLast">
<div class="block">Dessiner une règle.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="TableDdl.html" title="class in fr.gpmsi.pmsixml">TableDdl</a></th>
<td class="colLast">
<div class="block">Produire un script de définition de données (DDL) pour du SQL à partir d'un FszGroup.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FieldParseException.html" title="class in fr.gpmsi.pmsixml">FieldParseException</a></th>
<td class="colLast">
<div class="block">Exception lors de l'analyse d'un champ de fichier à positions fixes.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FieldSizeException.html" title="class in fr.gpmsi.pmsixml">FieldSizeException</a></th>
<td class="colLast">
<div class="block">Exception lancée lorsque la taille d'un champ n'est pas respectée 
 (Le champ est trop petit et ne peut pas contenir la valeur).</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="MissingMetafileException.html" title="class in fr.gpmsi.pmsixml">MissingMetafileException</a></th>
<td class="colLast">
<div class="block">Exception si fichier de métadonnée absent</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
